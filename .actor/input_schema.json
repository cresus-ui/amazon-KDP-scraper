{
    "title": "Amazon KDP Book Scraper Input",
    "type": "object",
    "schemaVersion": 1,
    "description": "Scrape book data from Amazon KDP including titles, authors, prices, ratings, and detailed product information. Use search terms or direct product URLs.",
    "properties": {
        "searchTerms": {
            "title": "Search Terms",
            "type": "array",
            "description": "List of search terms to find books on Amazon KDP. You can also provide direct Amazon product URLs.",
            "editor": "stringList",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "prefill": ["python programming", "data science"]
        },
        "categories": {
            "title": "Book Categories",
            "type": "array",
            "description": "Specific book categories to search within (optional). Helps narrow down search results.",
            "editor": "stringList",
            "items": {
                "type": "string"
            },
            "prefill": ["Computers & Technology", "Business & Money"]
        },
        "maxResults": {
            "title": "Maximum Results",
            "type": "integer",
            "description": "Maximum number of books to scrape per search term. Higher values may increase runtime.",
            "minimum": 1,
            "maximum": 1000,
            "default": 50,
            "prefill": 50
        },
        "includeReviews": {
            "title": "Include Reviews",
            "type": "boolean",
            "description": "Whether to scrape customer reviews for each book. This will significantly increase runtime.",
            "default": false,
            "prefill": false
        },
        "includeProductDetails": {
            "title": "Include Product Details",
            "type": "boolean",
            "description": "Extract detailed product information (publisher, dimensions, ISBN, etc.). Recommended for comprehensive data.",
            "default": true,
            "prefill": true
        },
        "minRating": {
            "title": "Minimum Rating",
            "type": "integer",
            "description": "Minimum star rating to filter books (0-5). Only books with this rating or higher will be included.",
            "minimum": 0,
            "maximum": 5,
            "default": 0,
            "prefill": 0
        },
        "sortBy": {
            "title": "Sort By",
            "type": "string",
            "description": "How to sort the search results on Amazon",
            "enum": ["relevance", "price-asc-rank", "price-desc-rank", "review-rank", "date-desc-rank"],
            "enumTitles": ["Relevance", "Price: Low to High", "Price: High to Low", "Customer Reviews", "Newest Arrivals"],
            "default": "relevance",
            "prefill": "relevance"
        },
        "requestDelay": {
            "title": "Request Delay (seconds)",
            "type": "integer",
            "description": "Delay between requests to avoid rate limiting. Increase if you encounter blocking.",
            "minimum": 1,
            "maximum": 30,
            "default": 3,
            "prefill": 3
        },
        "proxyConfiguration": {
            "title": "Proxy Configuration",
            "type": "object",
            "description": "Proxy settings for requests. Recommended for large-scale scraping.",
            "prefill": {
                "useApifyProxy": true
            },
            "properties": {
                "useApifyProxy": {
                    "title": "Use Apify Proxy",
                    "type": "boolean",
                    "description": "Use Apify's residential proxy service for better success rates",
                    "default": true
                },
                "proxyUrls": {
                    "title": "Custom Proxy URLs",
                    "type": "array",
                    "description": "List of custom proxy URLs (format: http://username:password@proxy:port)",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "extendOutputFunction": {
            "title": "Extend Output Function",
            "type": "string",
            "description": "Custom JavaScript function to extract additional data from each book page. Function receives BeautifulSoup object as parameter.",
            "prefill": "(soup) => { return {}; }",
            "editor": "javascript"
        },
        "customMapFunction": {
            "title": "Custom Map Function",
            "type": "string",
            "description": "Custom JavaScript function to transform each book object before output.",
            "prefill": "(book) => { return book; }",
            "editor": "javascript"
        }
    },
    "required": ["searchTerms"]
}
